<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Handwriting Digit Classification</title>

    <link href="{{ url_for('static', path='/css/bootstrap.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', path='/css/form_upload.css') }}" rel="stylesheet">

  </head>

  <body class="text-center">
    <form class="form-upload" method=post enctype=multipart/form-data>
      <h1 class="h3 mb-0 font-weight-normal">Please Upload an Image</h1>
      <h5 class="h5 mb-4">(png, jpg, jpeg)</h5>
      <input type="file" id="image" name="image" class="form-control" onchange="showPreview(event);" required autofocus>
      <br>

      <img class="mb-4" src="{{ image }}" alt="" width="256" height="256" id="file-ip-1-preview">
      <button class="btn btn-lg btn-primary btn-block" type="submit">Predict</button>
      <br>
      <h4 class="h4 mb-3 font-weight-normal">That was {{prediction}}</h4>

      {% if prediction %}
        <!-- <img class="mb-4" value="{{image}}" alt="" width="256" height="256" id=""> -->
        <!-- <h4 class="h4 mb-3 font-weight-normal">That was {{prediction}}</h4> -->
      {%endif%}
      
    </form>

    <script type="text/javascript">
      function showPreview(event){
      if(event.target.files.length > 0){
        var src = URL.createObjectURL(event.target.files[0]);
        var preview = document.getElementById("file-ip-1-preview");
        preview.src = src;
        preview.style.display = "block";
      }
    }
    </script>
  </body>
</html>
